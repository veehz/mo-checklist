(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},8965:function(e,t){"use strict";function n(e,t,n){for(let a of e)if(a[t]===n)return a;return null}let a=function(){let e=[];return e.push({name:"International Mathematical Olympiad",shortname:"IMO",url:"http://www.imo-official.org/",years:Array.from({length:64},(e,t)=>{let n=2022-t;return{year:n,url:"https://www.imo-official.org/year_info.aspx?year=".concat(n),problems:[1,2,3,4,5,6].map(e=>({index:e,url:"https://artofproblemsolving.com/wiki/index.php/".concat(n,"_IMO_Problems/Problem_").concat(e)}))}})}),n(n(e,"shortname","IMO").years,"year",1980).problems=[],n(n(e,"shortname","IMO").years,"year",1980).url="https://artofproblemsolving.com/wiki/index.php/1980_IMO",!function(){let t=[{year:2021,link:"https://artofproblemsolving.com/community/c3080392_2021_isl",num:[8,8,8,8]},{year:2020,link:"https://artofproblemsolving.com/community/c2409205_2020_isl",num:[8,8,9,7]},{year:2019,link:"https://artofproblemsolving.com/community/c1308102_2019_isl",num:[7,9,8,8]}],n={name:"International Mathematical Olympiad Shortlist",shortname:"IMOSL",url:"https://artofproblemsolving.com/community/c3223",years:[]},a=["A","C","G","N"];for(let e in t){let s=t[e].year;for(let r=0;r<4;r++){let i={name:"IMOSL ".concat(s," (").concat(a[r],")"),pdf:"https://www.imo-official.org/problems/IMO".concat(s,"SL.pdf"),url:t[e].link,problems:[]};for(let n=0;n<t[e].num[r];n++)i.problems.push({name:"".concat(a[r]).concat(n+1),index:n+1});n.years.push(i)}}e.push(n)}(),e}();t.Z=a},3067:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(5893);function s(e){let{children:t,isLoading:n=!1,props:s={},className:r="",flex:i=!0,full:l=!1,disabled:o=!1,onClick:c}=e;return(0,a.jsxs)("button",{onClick:c,className:"group relative justify-center rounded-md px-3 py-2 text-sm font-semibold text-white hover:opacity-75 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-75 "+(r.includes("bg-")?"":"bg-indigo-600 ")+(l?"w-full ":"")+(i?"flex ":"")+r,disabled:n||o,...s,children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3"+(n?"":" hidden"),viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25 fill-indigo-600",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})}},3425:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=n(5893),s=n(1664),r=n.n(s),i=n(1163),l=n(7294),o=n(1259),c=n(1481);function d(){let[e,t]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=()=>{window.pageYOffset>100?t(!1):t(!0)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let n=()=>{"scrollBehavior"in document.documentElement.style?document.documentElement.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0};return(0,a.jsx)("div",{id:"back-to-top",className:"".concat(e?"opacity-0 bottom-[-40px] pointer-events-none":"opacity-100 bottom-5"," bg-gray-300 rounded-full shadow-md text-red-600 cursor-pointer fixed right-5 transition-all duration-300 z-10"),onClick:n,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",className:"block h-6 m-3 fill-current",children:(0,a.jsx)("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"})})})}var m=n(9008),u=n.n(m),h=n(4298),x=n.n(h);function p(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x(),{id:"tag-manager",src:"https://www.googletagmanager.com/gtag/js?id=G-VDMR617ED6",strategy:"afterInteractive"}),(0,a.jsx)(x(),{id:"run-tag-manager",strategy:"afterInteractive",children:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n\n            gtag('config', 'G-VDMR617ED6');\n        "})]})}function f(e){let{pages:t=[],rightPages:n=[["About","/about"],["Settings","/settings"]],title:s}=e,m=(0,i.useRouter)(),[h,x]=(0,l.useState)(null);function f(){(0,o.w7)(c.I).then(()=>{m.reload()})}(0,l.useEffect)(()=>{(0,o.Aj)(c.I,e=>{x(e)})},[]);let[g,y]=(0,l.useState)(!1);return(0,a.jsxs)("div",{children:[(0,a.jsxs)(u(),{children:[(0,a.jsx)("title",{children:s?s+" | MO Checklist":"MO Checklist"}),(0,a.jsx)(p,{})]}),(0,a.jsx)(d,{}),(0,a.jsxs)("nav",{className:"bg-gray-800",children:[(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"relative flex h-16 items-center justify-between",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center md:hidden",children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:()=>y(!g),children:[(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,a.jsx)("svg",{className:"h-6 w-6 "+(g?"hidden":"block"),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),(0,a.jsx)("svg",{className:"h-6 w-6 "+(g?"block":"hidden"),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-center md:items-stretch md:justify-start",children:[(0,a.jsx)("div",{className:"flex flex-shrink-0 items-center text-white font-bold text-2xl",children:(0,a.jsx)(r(),{href:"/",children:"MO Checklist"})}),(0,a.jsx)("div",{className:"hidden md:ml-6 md:block w-full",children:(0,a.jsxs)("div",{className:"flex",children:[t.map((e,t)=>{let[n,s]=e;return(0,a.jsx)(r(),{href:s,className:(m.pathname==s?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" rounded-md px-3 py-2 text-sm font-medium"+(0==t?" ml-0":" ml-2"),"aria-current":m.pathname==s?"page":void 0,children:n},t)}),(0,a.jsx)("div",{className:"flex-auto"}),n.map((e,t)=>{let[n,s]=e;return(0,a.jsx)(r(),{href:s,className:(m.pathname==s?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" rounded-md px-3 py-2 text-sm font-medium"+(0==t?" ml-0":" ml-2"),"aria-current":m.pathname==s?"page":void 0,children:n},t)}),h?(0,a.jsx)("div",{className:"text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium ml-2",onClick:()=>{f()},children:"Sign Out"}):(0,a.jsx)(r(),{href:"/login",className:"text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium ml-2","aria-current":"/login"==m.pathname?"page":void 0,children:"Log In"})]})})]})]})}),(0,a.jsx)("div",{className:"md:hidden"+(g?"":" hidden"),id:"mobile-menu",children:(0,a.jsxs)("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[[...t,...n].map((e,t)=>{let[n,s]=e;return(0,a.jsx)(r(),{href:s,className:(m.pathname==s?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" block rounded-md px-3 py-2 text-base font-medium","aria-current":m.pathname==s?"page":void 0,children:n},t)}),h?(0,a.jsx)("div",{className:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium",onClick:()=>{f()},children:"Sign Out"}):(0,a.jsx)(r(),{href:"/login",className:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium","aria-current":"/login"==m.pathname?"page":void 0,children:"Log In"})]})})]})]})}},1481:function(e,t,n){"use strict";n.d(t,{I:function(){return l},db:function(){return o}});var a=n(3977),s=n(1259),r=n(1019);let i=(0,a.ZF)({apiKey:"AIzaSyC8G0tLL7H6w9w3YqnjIGhbXAEMAiL9vNQ",authDomain:"mo-checklist-1af5a.firebaseapp.com",databaseURL:"https://mo-checklist-1af5a-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mo-checklist-1af5a",storageBucket:"mo-checklist-1af5a.appspot.com",messagingSenderId:"631371770726",appId:"1:631371770726:web:c4188102090cd82e3cf6a7",measurementId:"G-VDMR617ED6"}),l=(0,s.v0)(i),o=(0,r.N8)(i)},85:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(5893),s=n(3425),r=n(8965),i=n(1664),l=n.n(i),o=n(1481),c=n(7294),d=n(1259),m=n(1019),u=n(2606),h=n(7106),x=n(4819),p=n(3067),f=n(1163);function g(e){let{href:t,children:n,target:s,onClick:r}=e;return t?(0,a.jsx)("a",{href:t,target:s,onClick:r,children:n}):(0,a.jsx)(a.Fragment,{children:n})}let y={0:"bg-zinc-50",1:"bg-yellow-200",2:"bg-green-200"};function b(e,t,n){return"".concat(e.shortname," ").concat(t.name||t.year," ").concat(n.name||n.index)}function v(e,t){if("increment"==t.type){let n=Object.keys(y).length;return e[t.payload]||(e[t.payload]=0),{...e,[t.payload]:(e[t.payload]+1)%n}}return"update"==t.type?{...e,...t.payload}:t.payload}function j(){let[e,t]=(0,c.useReducer)(v,{}),[n,i]=(0,c.useState)(),[j,w]=(0,c.useState)([]),[k,N]=(0,c.useState)(!1),[C,M]=(0,c.useState)(""),[O,I]=(0,c.useState)(""),[_,L]=(0,c.useState)(""),[S,E]=(0,c.useState)({}),Z=(0,f.useRouter)();return(0,c.useEffect)(()=>{(0,d.Aj)(o.I,e=>{console.log("run");let n=window.location.origin?window.location.origin:"";Z.query.user?(N(!0),I("".concat(n).concat(Z.basePath||"/","?user=").concat(Z.query.user)),(0,m.jM)((0,m.iH)(o.db,"profile/".concat(Z.query.user)),e=>{e.exists()&&(e.val().hiddenContests&&w(Object.keys(e.val().hiddenContests)),e.val().displayName&&M(e.val().displayName))},{onlyOnce:!0}),(0,m.jM)((0,m.iH)(o.db,"solved/".concat(Z.query.user)),e=>{e.exists()&&t({type:"set",payload:e.val()})},{onlyOnce:!0})):e&&(i(e),I("".concat(n).concat(Z.basePath||"/","?user=").concat(e.uid)),(0,m.jM)((0,m.iH)(o.db,"profile/".concat(e.uid,"/hiddenContests")),e=>{e.exists()&&w(Object.keys(e.val()))},{onlyOnce:!0}),(0,m.jM)((0,m.iH)(o.db,"solved/".concat(e.uid)),e=>{e.exists()&&(E(e.val()),t({type:"set",payload:e.val()}))},{onlyOnce:!0}))})},[Z]),(0,a.jsxs)("main",{children:[(0,a.jsx)(s.Z,{}),(0,a.jsxs)("div",{className:"py-4 px-4 sm:px-10 md:px-20",children:[(0,a.jsx)("h1",{className:"font-bold text-3xl text-center",children:k?C?"Viewing ".concat(C,"'s Checklist"):"Viewing User's Checklist":(null==n?void 0:n.displayName)?"".concat(n.displayName,"'s Checklist"):"My Checklist"}),(0,a.jsxs)("div",{className:"text-center mt-2",children:[n?null:(0,a.jsx)("div",{children:"Sign in to save your progress!"}),(0,a.jsx)("div",{children:_})]}),(0,a.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row-reverse mt-4",children:[(0,a.jsxs)(u.v,{as:"div",className:"relative inline-block mx-2 my-1 sm:my-0",children:[(0,a.jsxs)(u.v.Button,{className:"inline-flex w-full justify-center rounded-md bg-black bg-opacity-30 px-4 py-2 text-sm font-bold text-white hover:bg-opacity-40 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:["Jump To",(0,a.jsx)(x,{className:"ml-2 -mr-1 h-5 w-5 text-violet-200 hover:text-violet-100","aria-hidden":"true"})]}),(0,a.jsx)(h.u,{as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsx)(u.v.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,a.jsx)("div",{className:"px-1 py-1",children:r.Z.filter(e=>!j.includes(e.shortname)).map(e=>(0,a.jsx)(u.v.Item,{children:(0,a.jsxs)(l(),{href:"#".concat(e.shortname.toLowerCase()),className:"text-gray-900 group flex w-full items-center rounded-md px-2 py-2 text-sm",children:[e.name," (",e.shortname,")"]})},e.shortname))})})})]}),n&&!k?(0,a.jsx)(p.Z,{onClick:()=>{!function(){let t={};for(let[n,a]of Object.entries(e))if(S[n]!=a){if(!S[n]&&0==a)continue;t[n]=a||null}(0,m.Vx)((0,m.iH)(o.db,"solved/".concat(n.uid)),t)}()},className:"bg-green-600 mx-2 my-1 sm:my-0",children:(0,a.jsx)("div",{className:"px-2 sm:px-8",children:"Save"})}):null,k?(0,a.jsx)(p.Z,{className:"bg-blue-600 mx-2 my-1 sm:my-0",onClick:()=>{Z.push("/"),N(!1)},children:(0,a.jsx)("div",{className:"px-2 sm:px-8",children:"Go Back to My Checklist"})}):null,O?(0,a.jsx)(p.Z,{onClick:()=>{navigator.clipboard.writeText(O),L("Copied to clipboard!")},className:"bg-blue-600 mx-2 my-1 sm:my-0",children:(0,a.jsx)("div",{className:"px-2 sm:px-8",children:"Copy Sharable Link"})}):null]}),r.Z.filter(e=>!j.includes(e.shortname)).map(s=>(0,a.jsxs)("div",{className:"my-4",children:[(0,a.jsx)("h2",{className:"font-bold text-2xl"+(s.url?" text-blue-500":""),id:s.shortname.toLowerCase(),children:(0,a.jsx)(g,{href:s.url,target:"_blank",children:s.name})}),(0,a.jsx)("table",{className:"table-auto w-full",children:(0,a.jsx)("tbody",{children:s.years.map(i=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"cell font-bold"+(i.url?" text-blue-500":"")+(!function(t){if(!t.problems.length)return!1;let n=!1;for(let a of t.problems)if(2!=e[b(r.Z[0],t,a)]){n=!0;break}return!n}(i)?" bg-zinc-100":" ".concat(y[2])),children:(0,a.jsx)(g,{href:i.url,target:"_blank",children:i.name?i.name:"".concat(s.shortname," ").concat(i.year)})}),i.problems.map(r=>(0,a.jsx)("td",{id:b(s,i,r),className:"cell cell-problem"+(r.url?" text-blue-500":"")+" "+y[e[b(s,i,r)]||0],onClick:()=>{!k&&n&&t({type:"increment",payload:b(s,i,r)})},children:(0,a.jsx)(g,{href:r.url,target:"_blank",onClick:e=>{e.stopPropagation()},children:r.name?r.name:"P".concat(r.index)})},r.name||r.index))]},i.name?i.name:"".concat(s.shortname," ").concat(i.year)))})})]},s.name))]})]})}}},function(e){e.O(0,[627,70,462,164,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);